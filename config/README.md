# Main configurations

It is strongly recommended to thoroughly go through the configuration parameters before executing the program.
These parameters are described as follows:

| Configuration Parameter                      	| Description                                                                                                                                                                                                                                                                                                                                    	| Default Value                         	|
|----------------------------------------------	|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------	|---------------------------------------	|
| ``USER_MESSAGE``                             	| Personal message to identify the test                                                                                                                                                                                                                                                                                                          	|                                       	|
| ``HOME_LOCATION``                            	| The working directory for all subsequent paths. Empty means the default project directory will be assumed. Otherwise it must end with ``/``.                                                                                                                                                                                                   	|                                       	|
| ``OLD_CITY_MODEL_LOCATION``                  	| The location of the older dataset relative to ``HOME_LOCATION``.                                                                                                                                                                                                                                                                               	|                                       	|
| ``NEW_CITY_MODEL_LOCATION``                  	| The location of the newer dataset relative to ``HOME_LOCATION``.                                                                                                                                                                                                                                                                               	|                                       	|
| ``DB_LOCATION``                              	| The location of the graph database Neo4j relative to ``HOME_LOCATION``. Must end with ``/``.                                                                                                                                                                                                                                                   	| ``neo4jDB/``                          	|
| ``CLEAN_PREVIOUS_DB``                        	| Clean remaining graph databases from previous runs. If ``true``, it will be permanently removed from disk. ``No`` will not remove the old database from disk, instead its contents shall be archived in the database logs (that can be reset later). Note that this option will have an impact on disk storage and runtime of subsequent runs. 	| ``true``                              	|
| ``LOG_LOCATION``                             	| The location of the log file relative to ``HOME_LOCATION``.                                                                                                                                                                                                                                                                                    	| ``output/logs/Run.log``               	|
| ``EXPORT_LOCATION``                          	| The location of all exported CSV files representing detected changes relative to ``HOME_LOCATION``. Must end with ``/``.                                                                                                                                                                                                                       	| ``output/changes/``                   	|
| ``CSV_DELIMITER``                            	| The delimiter separating columns in the CSV files defined in ``EXPORT_LOCATION``.                                                                                                                                                                                                                                                              	| ``;``                                 	|
| ``WFS_SERVER``                               	| The URI of the Web Feature Service (WFS).                                                                                                                                                                                                                                                                                                      	|                                       	|
| ``RTREE_IMAGE_LOCATION``                     	| The location of R-Tree signature images of mapped city models relative to ``HOME_LOCATION``. Must end with ``/``.                                                                                                                                                                                                                              	| ``output/rtrees/``                    	|
| ``ENABLE_MULTI_THREADED_MAPPING``            	| Enable multi-threaded implementation for the mapping process.                                                                                                                                                                                                                                                                                  	| ``true``                              	|
| ``NR_OF_PRODUCERS``                          	| Define the number of producer threads available for reading input datasets. Ignored if ``ENABLE_MULTI_THREADED_MAPPING`` is ``false``.                                                                                                                                                                                                         	| ``1``                                 	|
| ``CONSUMERS_PRO_PRODUCER``                   	| Define the number of consumer threads FOR EACH producer available for mapping objects from parsed input. Ignored if ``ENABLE_MULTI_THREADED_MAPPING`` is ``false``.                                                                                                                                                                            	| ``(T_all - T_producer) / T_producer`` 	|
| ``ENABLE_INDICES``                           	| Enable indexing objects for permanent query capability at the cost of disk storage. Disabling this option will make use of available RAM instead, which results in faster query time in general.                                                                                                                                               	| ``false``                             	|
| ``SPLIT_PER_COLLECTION_MEMBER``              	| Split top-level features (buildings, bridges, tunnels, etc.) while reading and parsing input CityGML datasets.                                                                                                                                                                                                                                 	| ``true``                              	|
| ``NR_OF_COMMIT_BUILDINGS``                   	| Define the batch size while processing buildings for writing database and run logs.                                                                                                                                                                                                                                                            	| ``10``                                	|
| ``NR_OF_COMMIT_FEATURES``                    	| Define the batch size while processing features for writing database and run logs.                                                                                                                                                                                                                                                             	| ``100``                               	|
| ``NR_OF_COMMMIT_TRANS``                      	| Define the batch size while executing transactions for writing database and run logs.                                                                                                                                                                                                                                                          	| ``5000``                              	|
| ``LOG_EVERY_N_BUILDINGS``                    	| Output to log file every ``N`` buildings have been processed.                                                                                                                                                                                                                                                                                  	| ``100``                               	|
| ``MATCH_ONLY``                               	| Match only children of buildings of these types separated by a space letter. Empty means everything shall be matched.                                                                                                                                                                                                                          	|                                       	|
| ``APPEARANCE_LOCATION``                      	| Global/Absolute location of textures to upload to WFS. Must end with ``/``.                                                                                                                                                                                                                                                                    	|                                       	|
| ``MATCHING_STRATEGY``                        	| Select a strategy to efficiently find best matching candidates for top-level features based on their spatial properties. These include ``RTREE``, ``TILES`` and ``NONE``.                                                                                                                                                                      	| ``RTREE``                             	|
| ``ENABLE_MULTI_THREADED_MATCHING``           	| Enable multi-threaded implementation for the matching process.                                                                                                                                                                                                                                                                                 	| ``true``                              	|
| ``MAX_RTREE_NODE_REFERENCES``                	| Define the maximum number of entries of an internal R-Tree node. Only valid if ``MATCHING_STRATEGY`` is set to ``RTREE``.                                                                                                                                                                                                                      	| ``10``                                	|
| ``TILE_UNIT_X``                              	| Define the width of a tile in meters. Only valid if ``MATCHING_STRATEGY`` is set to ``TILE``.                                                                                                                                                                                                                                                  	| ``100``                               	|
| ``TILE_UNIT_Y``                              	| Define the height of a tile in meters. Only valid if ``MATCHING_STRATEGY`` is set to ``TILE``.                                                                                                                                                                                                                                                 	| ``100``                               	|
| ``ERR_TOLERANCE``                            	| Define the maximum accepted error tolerance in meters for lengths.                                                                                                                                                                                                                                                                             	| ``1e-7``                              	|
| ``ANGLE_TOLERANCE``                          	| Define the maximum accepted error tolerance in radians for angles.                                                                                                                                                                                                                                                                             	| ``1e-3``                              	|
| ``DISTANCE_TOLERANCE``                       	| Define the maximum accepted error tolerance in meters for distances.                                                                                                                                                                                                                                                                           	| ``1e-3``                              	|
| ``TILE_BORDER_DISTANCE``                     	| Define the width of fuzzy zones along tile borders. Only valid if ``MATCHING_STRATEGY`` is set to ``TILE``.                                                                                                                                                                                                                                    	| ``5``                                 	|
| ``MATCH_BUILDINGS_BY_SHARED_VOLUME``         	| Match buildings by their shared volume or shared footprint.                                                                                                                                                                                                                                                                                    	| ``true``                              	|
| ``BUILDING_SHARED_VOL_PERCENTAGE_THRESHOLD`` 	| Define the minimum threshold in percentage to fine matching candidates. If ``MATCH_BUILDINGS_BY_SHARED_VOLUME`` is set to ``true``, this threshold refers to the shared volume. Otherwise it refers to the shared footprint.                                                                                                                   	| ``0.9``                               	|
| ``CREATE_MATCHED_CONTENT_NODE``              	| Create auxiliary graph nodes pointing to matched contents in the graph database.                                                                                                                                                                                                                                                               	| ``false``                             	|
| ``CREATE_MATCHED_GEOMETRY_NODE``             	| Create auxiliary graph nodes pointing to matched geometries in the graph database.                                                                                                                                                                                                                                                             	| ``false``                             	|
| ``THREAD_TIME_OUT``                          	| Define the maximum time in seconds to wait for threads to finish.                                                                                                                                                                                                                                                                              	| ``500000``                            	|
| ``ENABLE_EDITORS``                           	| Update the older dataset to the newer one. Experimental, currently via WFS.                                                                                                                                                                                                                                                                    	| ``false``                             	|
| ``EXECUTE_OPTIONAL``                         	| Also execute changes that do not reflect the real ones.                                                                                                                                                                                                                                                                                        	| ``false``                             	|
| ``STATBOT_OUTPUT_SUMMARY_PATH``              	| Export the statistics summary in a file, if left empty nothing shall be exported.                                                                                                                                                                                                                                                              	| ``output/statbot/Stats.log``          	|
| ``STATBOT_OUTPUT_CSV_FOLDER``                	| The folder location to store exported CSV files. Must end with ``/``. If left empty nothing shall be exported.                                                                                                                                                                                                                                     	| ``output/statbot/``                   	|

An example of such configuration file can be found [here](Default.txt).

# Other settings

### Example Run configuration in Eclipse:

	-Xms8192m -Xmx8192m -XX:+UseG1GC
	
	java -Xms8192m -Xmx8192m -XX:+UseG1GC -jar Filename.jar -SETTINGS="PathToSettings.txt"

### config.xml

	Description: 	configurations for WFS
	
	Location: 		WFS
	
### eclipse.ini

	Description: 	configurations for Eclipse IDE
	
	Location: 		Eclipse location

### graphstyle.grass

	Description: 	Appearance settings of nodes and relationships in Neo4j
	
	Location: 		Drag into Neo4j web interface
	

### neo4j-community.vmoptions

	Description: 	Neo4j VM options
	
	Location: 		USER\AppData\Roaming\Neo4j Community Edition\neo4j-community.vmoptions
	

### neo4j.conf

	Description: 	Neo4j general options
	
	Location: 		USER\AppData\Roaming\Neo4j Community Edition\neo4j.conf
	